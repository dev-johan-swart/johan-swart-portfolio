<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini E‑Commerce Demo — Portfolio Project</title>
  <meta name="description" content="A compact, modern e-commerce demo built with HTML/CSS and minimal JavaScript. Editable styles via CSS variables."/>
  <style>
    /* ---------- VARIABLES: edit these to change the whole look ---------- */
    :root{
      --bg: #0f1724;
      --card: #0b1120;
      --muted: #9aa4b2;
      --accent: #00c2a8;
      --accent-2: #7de3ca;
      --text: #e6eef6;
      --glass: rgba(255,255,255,0.03);
      --radius: 14px;
      --shadow: 0 6px 20px rgba(2,6,23,0.6);
      --max-width: 1100px;
      --gap: 18px;
      --transition: 240ms cubic-bezier(.2,.9,.3,1);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }

    /* ---------- RESET ---------- */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(0,194,168,0.06), transparent),
                  radial-gradient(900px 500px at 90% 80%, rgba(125,227,202,0.035), transparent),
                  var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:32px;
      display:flex;
      justify-content:center;
      align-items:flex-start;
      gap:24px;
      min-height:100vh;
      font-size:15px;
    }

    /* ---------- LAYOUT ---------- */
    .app{
      width:100%;
      max-width:var(--max-width);
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:var(--gap);
      align-items:start;
    }

    header.site-header{
      grid-column:1 / -1;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      margin-bottom:6px;
    }

    .brand{
      display:flex;align-items:center;gap:12px
    }
    .logo{
      width:46px;height:46px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:grid;place-items:center;font-weight:700;color:#00221b
    }
    .brand h1{font-size:1.05rem;margin:0}
    .brand p{margin:0;font-size:0.8rem;color:var(--muted)}

    /* ---------- TOOLBAR ---------- */
    .toolbar{
      display:flex;align-items:center;gap:10px
    }
    .search{
      background:var(--glass);border:1px solid rgba(255,255,255,0.03);padding:8px 12px;border-radius:12px;display:flex;gap:8px;align-items:center;min-width:260px
    }
    .search input{background:transparent;border:0;color:var(--text);outline:none;width:180px}
    .btn{
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);padding:8px 12px;border-radius:10px;color:var(--text);cursor:pointer;transition:all var(--transition)
    }
    .btn:active{transform:translateY(1px)}

    /* ---------- PRODUCTS & CARD ---------- */
    .gallery{
      display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px
    }
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border-radius:var(--radius);padding:14px;border:1px solid rgba(255,255,255,0.03);box-shadow:var(--shadow);display:flex;flex-direction:column;gap:10px;min-height:260px
    }
    .thumb{height:150px;border-radius:12px;display:grid;place-items:center;overflow:hidden;background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(0,0,0,0.18))}
    .thumb img{max-width:100%;max-height:100%;object-fit:contain}
    .title{font-weight:600}
    .price{font-weight:700;color:var(--accent)}
    .muted{color:var(--muted);font-size:0.9rem}
    .actions{margin-top:auto;display:flex;gap:8px}

    /* ---------- CART ---------- */
    aside.cart{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border-radius:var(--radius);padding:16px;border:1px solid rgba(255,255,255,0.03);box-shadow:var(--shadow);position:sticky;top:32px;height:calc(100vh - 64px);overflow:auto
    }
    .cart h3{margin:0 0 8px 0}
    .cart-item{display:flex;gap:12px;align-items:center;padding:8px;border-radius:10px}
    .cart-thumb{width:54px;height:54px;border-radius:8px;overflow:hidden;display:grid;place-items:center}
    .qty{display:flex;gap:6px;align-items:center}
    .small{font-size:0.85rem;color:var(--muted)}

    /* ---------- MODAL ---------- */
    .modal{position:fixed;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.45));display:none;place-items:center;padding:24px}
    .modal.open{display:grid}
    .modal-card{width:100%;max-width:820px;background:var(--card);border-radius:18px;overflow:hidden;padding:18px;border:1px solid rgba(255,255,255,0.04)}

    /* ---------- FOOTER / README ---------- */
    .meta{grid-column:1 / -1;padding:8px 12px;border-radius:12px;color:var(--muted);font-size:0.9rem}

    /* ---------- RESPONSIVE ---------- */
    @media (max-width:980px){
      .app{grid-template-columns:1fr}
      aside.cart{position:relative;height:auto}
    }

    /* small interactive touches */
    .card:hover{transform:translateY(-6px);transition:transform var(--transition)}
    .pill{background:rgba(255,255,255,0.02);padding:6px 8px;border-radius:999px;font-weight:600}

    /* accessibility focus */
    button:focus, a:focus, input:focus{outline:2px solid rgba(0,194,168,0.18);outline-offset:3px}
  </style>
</head>
<body>
  <div class="app">
    <header class="site-header">
      <div class="brand">
        <div class="logo">EC</div>
        <div>
          <h1>Mini E‑Commerce</h1>
          <p class="small muted">Clean demo — HTML • CSS • minimal JS</p>
        </div>
      </div>

      <div class="toolbar">
        <div class="search" role="search">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="2"></circle></svg>
          <input type="search" id="search" placeholder="Search products — e.g. 'sneaker'" />
        </div>
        <button class="btn" id="clearFilters">Clear</button>
        <button class="btn" id="openCartBtn">Cart (<span id="cartCount">0</span>)</button>
      </div>
    </header>

    <!-- MAIN PRODUCT GRID -->
    <main>
      <section class="panel">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
          <h2 style="margin:0">Products</h2>
          <div class="small muted">Built with CSS variables for easy theming</div>
        </div>

        <div class="gallery" id="products"></div>

        <div class="meta">This demo keeps logic intentionally small and local — add to cart, adjust quantities, and simulate checkout. Products are defined in the JS for clarity.</div>
      </section>

      <!-- README / instructions inside the app for convenience -->
      <details style="margin-top:16px;background:var(--glass);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);">
        <summary style="cursor:pointer">README — Project notes & instructions</summary>
        <pre style="white-space:pre-wrap;color:var(--muted);margin-top:8px">Mini E-Commerce Demo (for portfolio)

Files & structure:
 - single HTML file (this) — contains CSS + JS for easy sharing
 - Edit colors and spacing in the :root CSS variables at the top.

How it works (quick overview):
 - Products are a small JS array (id, title, price, image, description)
 - Add to cart stores data in localStorage and updates cart UI
 - Cart supports quantity change, remove, and a mock checkout
 - No backend — this is a front-end demonstration of UX & states

What to edit next to show my understanding of e-commerce:
 - Move product data to a JSON file or simple backend to demonstrate architecture
 - Integrate a payments sandbox (Stripe Checkout test mode) to show real flows
 - Add user sign-in and order history to illustrate persistence & auth

How to run:
 - Save this file (ecommerce-demo.html) and open in a browser
 - Or serve from local static server (e.g. npx http-server)

</pre>
      </details>
    </main>

    <!-- CART / SIDEBAR -->
    <aside class="cart" aria-labelledby="cartTitle">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <h3 id="cartTitle">Your Cart</h3>
        <div class="small muted">Local demo — not a live store</div>
      </div>
      <div id="cartItems"></div>
      <div style="margin-top:auto;padding-top:12px;border-top:1px solid rgba(255,255,255,0.02);display:flex;flex-direction:column;gap:8px">
        <div style="display:flex;justify-content:space-between"><div class="small muted">Subtotal</div><div id="subtotal">R0.00</div></div>
        <button class="btn" id="checkoutBtn">Mock Checkout</button>
        <button class="btn" id="clearCartBtn">Clear Cart</button>
      </div>
    </aside>

    <!-- PRODUCT MODAL -->
    <div class="modal" id="productModal" role="dialog" aria-modal="true">
      <div class="modal-card" id="modalCard">
        <div style="display:grid;grid-template-columns:260px 1fr;gap:16px;align-items:start">
          <div class="thumb" id="modalThumb"></div>
          <div>
            <h3 id="modalTitle"></h3>
            <div class="muted" id="modalDesc"></div>
            <div style="margin-top:12px"><span class="price" id="modalPrice"></span></div>
            <div style="margin-top:18px;display:flex;gap:8px;align-items:center">
              <label class="small muted">Qty</label>
              <input type="number" id="modalQty" value="1" min="1" style="width:70px;padding:6px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)" />
              <button class="btn" id="modalAdd">Add to cart</button>
              <button class="btn" id="modalClose">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* ---------- SAMPLE PRODUCTS (edit to replace with your own) ---------- */
    const PRODUCTS = [
      {id:1,title:'AirFlex Runner',price:89.99,image:'https://images.unsplash.com/photo-1542291026-7eec264c27ff?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=1c6c4669c1c0b6d7b4f6c39b1a5ad5d8',desc:'Lightweight running shoe with breathable knit upper.'},
      {id:2,title:'Everyday Backpack',price:64.50,image:'https://images.unsplash.com/photo-1520816468865-97e02931f666?q=80&w=871&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',desc:'Weatherproof backpack with padded laptop sleeve.'},
      {id:3,title:'Minimal Watch',price:149.00,image:'https://images.unsplash.com/photo-1602479152858-12238c0d691c?q=80&w=581&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',desc:'Clean analog watch with vegan leather strap.'},
      {id:4,title:'Studio Headphones',price:199.99,image:'https://media.istockphoto.com/id/1412240771/photo/headphones-on-white-background.jpg?s=612x612&w=is&k=20&c=MhI4ip5_ZfCj7DgkOQI7ZAIwt9T2SEgQtB10tf8IB2g=',desc:'Closed-back headphones for accurate audio reproduction.'},
      {id:5,title:'Home Coffee Kit',price:39.90,image:'https://images.unsplash.com/photo-1509042239860-f550ce710b93?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=9b8c7d6e5f4a3b2c1d0e9f8a7b6c5d4e',desc:'Everything you need to brew great coffee at home.'},
      {id:6,title:'Desk Lamp',price:45.00,image:'https://media.istockphoto.com/id/1795378614/photo/stylish-modern-desk-lamp-and-potted-plant-on-table-near-wall-in-dark-room.jpg?s=1024x1024&w=is&k=20&c=qj1UmgZj8AnBwy9Sdk4CftmXs5rBgIoe5MkpuMj3C6U=',desc:'Adjustable desk lamp with warm dimming.'}
    ];

    /* ---------- SIMPLE CART STATE (persisted to localStorage) ---------- */
    const CART_KEY = 'mini_ecom_cart_v1';
    let cart = JSON.parse(localStorage.getItem(CART_KEY) || '[]');

    // helpers
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => Array.from(document.querySelectorAll(sel));
    const money = (n) => 'R' + n.toFixed(2);

    // render products
    function renderProducts(list = PRODUCTS){
      const root = $('#products'); root.innerHTML='';
      list.forEach(p => {
        const el = document.createElement('article'); el.className='card';
        el.innerHTML = `
          <div class="thumb"><img src="${p.image}" alt="${p.title}" loading="lazy"></div>
          <div>
            <div class="title">${p.title}</div>
            <div class="muted" style="margin-top:6px">${p.desc}</div>
            <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
              <div class="price">${money(p.price)}</div>
              <div class="actions">
                <button class="btn" data-id="${p.id}" data-action="view">View</button>
                <button class="btn" data-id="${p.id}" data-action="add">Add</button>
              </div>
            </div>
          </div>`;
        root.appendChild(el);
      })
    }

    // cart helpers
    function saveCart(){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); updateCartUI(); }
    function addToCart(id, qty=1){
      const p = PRODUCTS.find(x=>x.id===id); if(!p) return;
      const existing = cart.find(i=>i.id===id);
      if(existing) existing.qty += qty; else cart.push({id,qty});
      saveCart();
    }
    function setQty(id, qty){ cart = cart.map(i => i.id===id ? {...i,qty:qty}|0 : i).filter(i=>i.qty>0); saveCart(); }
    function removeFromCart(id){ cart = cart.filter(i=>i.id!==id); saveCart(); }
    function clearCart(){ cart=[]; saveCart(); }

    function updateCartUI(){
      const container = $('#cartItems'); container.innerHTML='';
      let subtotal = 0;
      cart.forEach(item => {
        const p = PRODUCTS.find(x=>x.id===item.id);
        const row = document.createElement('div'); row.className='cart-item';
        row.innerHTML = `
          <div class="cart-thumb"><img src="${p.image}" alt="${p.title}" style="width:100%;height:100%;object-fit:cover"></div>
          <div style="flex:1">
            <div style="display:flex;justify-content:space-between;align-items:center"><div>${p.title}</div><div class="price">${money(p.price*item.qty)}</div></div>
            <div class="small muted">${p.desc}</div>
            <div style="margin-top:8px;display:flex;gap:8px;align-items:center">
              <div class="qty small">Qty: <input type="number" min="1" value="${item.qty}" data-id="${item.id}" class="cartQty" style="width:70px;padding:6px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)"></div>
              <button class="btn" data-id="${item.id}" data-action="remove">Remove</button>
            </div>
          </div>
        `;
        container.appendChild(row);
        subtotal += p.price * item.qty;
      });
      $('#subtotal').textContent = money(subtotal);
      $('#cartCount').textContent = cart.reduce((s,i)=>s+i.qty,0);

      // attach qty listeners
      $$('.cartQty').forEach(inp => inp.addEventListener('change', e => {
        const id = +e.target.dataset.id; const val = Math.max(1, +e.target.value||1);
        const idx = cart.find(i=>i.id===id);
        if(idx) { idx.qty = val; saveCart(); }
      }));

      // remove buttons
      $$('[data-action="remove"]').forEach(b=>b.addEventListener('click', e=>{
        removeFromCart(+e.target.dataset.id);
      }));
    }

    // product modal
    function openModalFor(id){
      const p = PRODUCTS.find(x=>x.id===id); if(!p) return;
      $('#modalThumb').innerHTML = `<img src="${p.image}" alt="${p.title}" style="max-width:100%;max-height:220px;object-fit:contain">`;
      $('#modalTitle').textContent = p.title;
      $('#modalDesc').textContent = p.desc;
      $('#modalPrice').textContent = money(p.price);
      $('#modalQty').value = 1;
      $('#productModal').classList.add('open');
      $('#modalAdd').dataset.id = id;
    }

    // close modal
    function closeModal(){ document.getElementById('productModal').classList.remove('open'); }

    // search/filter
    function filterProducts(q){
      if(!q) return renderProducts(PRODUCTS);
      q = q.trim().toLowerCase();
      const res = PRODUCTS.filter(p=>p.title.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q));
      renderProducts(res);
    }

    // event wiring
    document.addEventListener('click', e => {
      const act = e.target.closest('[data-action]');
      if(act){
        const id = +act.dataset.id; const action = act.dataset.action;
        if(action === 'view') openModalFor(id);
        if(action === 'add') { addToCart(id,1); }
      }

      if(e.target.id === 'openCartBtn'){
        // on small screens scroll to cart
        document.querySelector('.cart').scrollIntoView({behavior:'smooth'});
      }

      if(e.target.id === 'modalClose') closeModal();
      if(e.target.id === 'modalAdd'){
        const id = +e.target.dataset.id; const qty = Math.max(1, +$('#modalQty').value||1); addToCart(id,qty); closeModal();
      }

      if(e.target.id === 'clearCartBtn') clearCart();
      if(e.target.id === 'clearFilters') { $('#search').value=''; filterProducts(''); }
      if(e.target.id === 'checkoutBtn'){
        if(cart.length===0){ alert('Your cart is empty'); return; }
        // simulate checkout - in a real app you'd call payment API / backend
        alert('Mock checkout — cart total: ' + $('#subtotal').textContent + '\n(Replace with Stripe/PayPal in production)');
        clearCart();
      }
    });

    $('#search').addEventListener('input', e => filterProducts(e.target.value));

    // init
    renderProducts(); updateCartUI();

    // accessibility: close modal on background click or escape
    document.getElementById('productModal').addEventListener('click', e => {
      if(e.target === e.currentTarget) closeModal();
    });
    window.addEventListener('keydown', e => { if(e.key === 'Escape') closeModal(); });
  </script>
</body>
</html>
